<!DOCTYPE html>
<html>
<head>
  <title>The Reserved Mug Poll</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root { --accent: #3A5A40; --bg: #F9F7F2; --text: #344E41; --muted: #A3B18A; }

    body {
      font-family: -apple-system, sans-serif;
      background-color: var(--bg);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      overflow: hidden;
      -webkit-tap-highlight-color: transparent;
    }

    .card {
      background: white;
      padding: 3rem;
      border-radius: 40px;
      box-shadow: 0 15px 35px rgba(0,0,0,0.07);
      width: 85%;
      max-width: 520px;
      text-align: center;
    }

    .pilot-header {
      color: var(--accent);
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 2px;
      font-size: 0.8rem;
      margin-bottom: 0.5rem;
    }

    h1 {
      font-size: 2.2rem;
      color: var(--text);
      margin: 0 0 1.25rem 0;
    }

    .feature-box {
      background: #F1F3ED;
      padding: 1.25rem 1.5rem;
      border-radius: 25px;
      margin-bottom: 1.75rem;
      font-size: 1.15rem;
      color: #588157;
      text-align: left;
    }
    .feature-item { display: flex; align-items: flex-start; margin-bottom: 8px; }
    .dot { color: var(--accent); margin-right: 12px; font-weight: bold; }

    .main-question {
      font-size: 1.55rem;
      font-weight: 700;
      color: var(--text);
      margin: 0 0 1.5rem 0;
    }

    .btn-row {
      display: flex;
      justify-content: center;
      gap: 26px;
      margin-bottom: 26px;
      flex-wrap: wrap;
    }

    /* Big round buttons */
    .vote-btn {
      width: 210px;
      height: 210px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: transform 0.12s ease, box-shadow 0.12s ease;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      user-select: none;
      touch-action: manipulation;
    }
    .vote-btn:active { transform: scale(0.98); box-shadow: 0 6px 16px rgba(0,0,0,0.12); }

    .classic-btn { background: var(--accent); color: white; }
    .insulated-btn { background: #DAD7CD; color: #588157; }

    .emoji { font-size: 3.4rem; line-height: 1; margin-bottom: 10px; }
    .label { font-size: 1rem; font-weight: 900; letter-spacing: 1px; text-transform: uppercase; line-height: 1.1; }
    .sublabel { font-size: 0.95rem; font-weight: 700; opacity: 0.9; margin-top: 8px; }

    /* Wide "Either" button */
    .wide-btn {
      width: 100%;
      max-width: 460px;
      height: 110px;
      border-radius: 60px;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      background: #E6EBD8;
      color: var(--text);
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      font-weight: 900;
      letter-spacing: 0.5px;
      user-select: none;
      touch-action: manipulation;
      margin: 0 auto 14px auto;
      transition: transform 0.12s ease, box-shadow 0.12s ease;
      padding: 0 18px;
    }
    .wide-btn:active { transform: scale(0.99); box-shadow: 0 6px 16px rgba(0,0,0,0.10); }
    .wide-emoji { font-size: 2rem; }

    .pricing-note {
      margin-top: 8px;
      font-size: 1rem;
      color: #7C8D71;
      opacity: 0.9;
    }

    /* Quiet opt-out */
    .skip {
      display: inline-block;
      margin-top: 8px;
      font-size: 1rem;
      color: var(--muted);
      opacity: 0.65;
      text-decoration: none;
      cursor: pointer;
      user-select: none;
      touch-action: manipulation;
    }
    .skip:active { opacity: 0.85; }

    .hidden { display: none; }

    /* Thank you */
    .thankyou-emoji { font-size: 5rem; margin-bottom: 1rem; }

    /* Stats panel */
    details { position: fixed; bottom: 30px; width: 100%; text-align: center; }
    summary {
      color: var(--muted);
      font-size: 0.8rem;
      opacity: 0.35;
      cursor: pointer;
      list-style: none;
      user-select: none;
    }
    .log {
      background: white;
      padding: 18px 20px;
      border-radius: 15px;
      margin: 10px auto;
      width: 260px;
      box-shadow: 0 -5px 25px rgba(0,0,0,0.1);
      text-align: left;
    }
    .log strong { color: var(--text); }
    .mono { font-variant-numeric: tabular-nums; }

    /* Responsive tweaks for smaller screens */
    @media (max-width: 430px) {
      .card { padding: 2.25rem; border-radius: 34px; }
      h1 { font-size: 2rem; }
      .vote-btn { width: 180px; height: 180px; }
      .wide-btn { height: 96px; }
    }
  </style>
</head>

<body>

  <!-- Question card -->
  <div class="card" id="q">
    <div class="pilot-header">Proposed Pilot Program</div>
    <h1>The Reserved Mug</h1>

    <div class="feature-box">
      <div class="feature-item"><span class="dot">‚úì</span> A Rez-branded mug that lives here</div>
      <div class="feature-item"><span class="dot">‚úì</span> We wash it and store it</div>
      <div class="feature-item"><span class="dot">‚úì</span> Ready when you arrive</div>
    </div>

    <div class="main-question">Which Reserved Mug would you choose?</div>

    <div class="btn-row">
      <button onclick="v('Classic Ceramic Mug')" class="vote-btn classic-btn" aria-label="Classic Ceramic Mug">
        <span class="emoji">‚òïÔ∏è</span>
        <span class="label">Classic</span>
        <span class="label">Ceramic Mug</span>
      </button>

      <button onclick="v('Insulated Mug with Lid')" class="vote-btn insulated-btn" aria-label="Insulated Mug with Lid">
        <span class="emoji">üßä</span>
        <span class="label">Insulated</span>
        <span class="label">Mug + Lid</span>
      </button>
    </div>

    <button onclick="v('Either One Works For Me')" class="wide-btn" aria-label="Either One Works For Me">
      <span class="wide-emoji">‚ú®</span>
      <span>EITHER ONE WORKS FOR ME</span>
    </button>

    <div class="pricing-note">Pricing still being explored</div>

    <div>
      <span class="skip" onclick="v('I‚Äôd probably skip this')" role="button" aria-label="I‚Äôd probably skip this">
        I‚Äôd probably skip this
      </span>
    </div>
  </div>

  <!-- Thank you card -->
  <div class="card hidden" id="t">
    <div class="thankyou-emoji">‚ú®</div>
    <h1>Thank You!</h1>
    <p style="font-size: 1.2rem; color: #588157; margin: 0;">Your input helps us decide.</p>
  </div>

  <!-- Stats panel -->
  <details id="stats-panel">
    <summary id="stats-summary">View Stats (0)</summary>
    <div class="log">
      <div style="font-weight: 900; margin-bottom: 10px; color: var(--text);">Totals</div>
      <div id="s" class="mono" style="font-weight:700; font-size: 1.05rem; color: #588157;">
        Classic: 0<br/>Insulated: 0<br/>Either: 0<br/>Skip: 0<br/>
        <hr style="border:none;border-top:1px solid #eee; margin: 12px 0;">
        Total: 0
      </div>

      <div style="margin-top: 10px;">
        <button onclick="clearData()"
          style="border:none;background:#F1F3ED;color:#588157;font-weight:800;
                 padding:10px 12px;border-radius:12px;cursor:pointer;width:100%;">
          Clear Stats (this device)
        </button>
      </div>
    </div>
  </details>

  <script>
    const STORAGE_KEY = 'poll_data_reserved_mug_v2';

    function v(choice) {
      const d = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
      d.push({ choice, time: new Date().toISOString() });
      localStorage.setItem(STORAGE_KEY, JSON.stringify(d));

      // swap to thank-you
      document.getElementById('q').classList.add('hidden');
      document.getElementById('t').classList.remove('hidden');

      show();

      // auto reset
      setTimeout(() => {
        document.getElementById('t').classList.add('hidden');
        document.getElementById('q').classList.remove('hidden');
      }, 2500);
    }

    function counts(d) {
      const c = {
        classic: d.filter(x => x.choice === 'Classic Ceramic Mug').length,
        insulated: d.filter(x => x.choice === 'Insulated Mug with Lid').length,
        either: d.filter(x => x.choice === 'Either One Works For Me').length,
        skip: d.filter(x => x.choice === 'I‚Äôd probably skip this').length
      };
      c.total = d.length;
      return c;
    }

    function show() {
      const d = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
      const c = counts(d);

      document.getElementById('s').innerHTML =
        `Classic: ${c.classic}<br/>` +
        `Insulated: ${c.insulated}<br/>` +
        `Either: ${c.either}<br/>` +
        `Skip: ${c.skip}<br/>` +
        `<hr style="border:none;border-top:1px solid #eee; margin: 12px 0;">` +
        `Total: ${c.total}`;

      document.getElementById('stats-summary').innerText = `View Stats (${c.total})`;
    }

    function clearData() {
      const ok = confirm('Clear all poll stats on this device?');
      if (!ok) return;
      localStorage.removeItem(STORAGE_KEY);
      show();
    }

    show();
  </script>

</body>
</html>
